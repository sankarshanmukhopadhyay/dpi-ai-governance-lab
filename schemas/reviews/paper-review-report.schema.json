{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Paper Review Report (structured)",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "executive_thesis",
    "strengths",
    "gaps_and_omissions",
    "risk_and_controls",
    "recommended_minimal_viable_upgrades",
    "open_questions"
  ],
  "properties": {
    "executive_thesis": { "type": "string", "minLength": 80 },
    "strengths": {
      "type": "array",
      "items": { "type": "string", "minLength": 10 },
      "minItems": 3
    },
    "gaps_and_omissions": {
      "type": "array",
      "items": { "type": "string", "minLength": 10 },
      "minItems": 5
    },
    "risk_and_controls": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["risk", "why_it_matters", "minimal_control"],
        "properties": {
          "risk": { "type": "string", "minLength": 5 },
          "why_it_matters": { "type": "string", "minLength": 10 },
          "minimal_control": { "type": "string", "minLength": 10 }
        }
      },
      "minItems": 5
    },
    "recommended_minimal_viable_upgrades": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["upgrade", "implementation_hint", "expected_impact"],
        "properties": {
          "upgrade": { "type": "string", "minLength": 10 },
          "implementation_hint": { "type": "string", "minLength": 10 },
          "expected_impact": { "type": "string", "minLength": 10 }
        }
      },
      "minItems": 5
    },
    "open_questions": {
      "type": "array",
      "items": { "type": "string", "minLength": 10 },
      "minItems": 3
    }
  }
}
